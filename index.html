<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>The Toninator Easy Tone Mark Generator</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
</head>

<style type="text/css">
	#main { width:100% }
	#input, #output { width:50%; height:300px; padding:10px; }
	#inputarea, #outputarea { width:100%; height:100%; background-color:white; color:black; }
	#macro { margin:0 20px; padding:20px; border:1px dashed black; display:none; }
	#togglemacro { background:none; border:none; padding:0; text-decoration:underline; color:blue;  }
</style>

<script type="text/javascript">

onload = function() {

	var macro = document.getElementById("macro");
	document.getElementById("togglemacro").onclick = function() {
		if (macro.style.display == "block") {
			macro.style.display = "none";
			this.innerHTML = "Show the macro";
		} else {
			macro.style.display = "block";
			this.innerHTML = "Hide the macro";
		}
		this.blur();
	}

	var replacements = {
		"u\"":"ü",
		"a\/":"á",
		"e\/":"é",
		"i\/":"í",
		"o\/":"ó",
		"u\/":"ú",
		"u\"\/":"ǘ",
		"a\\":"à",
		"e\\":"è",
		"i\\":"ì",
		"o\\":"ò",
		"u\\":"ù",
		"u\"\\":"ǜ",
		"a\\\/":"ă",
		"e\\\/":"ĕ",
		"i\\\/":"ĭ",
		"o\\\/":"ŏ",
		"u\\\/":"ŭ",
		"u\"\\\/":"ǚ",
		"a_":"ā",
		"e_":"ē",
		"i_":"ī",
		"o_":"ō",
		"u_":"ū",
		"u\"_":"ǖ",
		"c,": "ç",
		"e^": "ê",
		"o^": "ô",
		"i^": "î",
		"a~": "ã",
		"o~": "õ",
		"n~": "ñ",
		"A\\": "À",
		"E\\": "È",
		"I\\": "Ì",
		"O\\": "Ò",
		"U\\": "Ù",
		"A\/": "Á",
		"E\/": "É",
		"I\/": "Í",
		"O\/": "Ó",
		"U\/": "Ú",
		"A~": "Ã",
		"E~": "Ẽ",
		"I~": "Ĩ",
		"O~": "Õ",
		"U~": "Ũ"
	}

	var inputarea = document.getElementById("inputarea");
	var outputarea = document.getElementById("outputarea");

	inputarea.onkeyup = function() {

		outputarea.value = inputarea.value.replace(/[aeiounc]"?(\\\/|[\\\/_]|[~^,])?/g, function(match) {
			if (typeof replacements[match] == "undefined") {
				return match;
			}

			return replacements[match];
		});
	}

}

</script>

<body>

<h1>The Toninator</h1>

<p>This can be used to quickly generate text with tone-marks</p>

<p>Enter [vowel]/ for an upwards tone mark, [vowel]\ for a downwards tone mark, [vowel]\/ for a downwards-upwards tone mark, and [vowel]_ for a flat tone mark</p>

<p>For example, a/ will produce á.  You can also use u&quot; to generate ü and add any of the above suffixes to add tone marks to ü.</p>

<p>Finally, the following replacements can also be made: ç ('c,'), ã,õ,ñ (a~,o~,n~), ê,ô(e^,o^).</p>

<p>Type in the left hand box; rendered text appears in the right-hand one</p>

<table id="main">
<tr>
	<td id="input"><textarea rows="" cols="" id="inputarea"></textarea></td>
	<td id="output"><textarea rows="" cols="" id="outputarea"></textarea></td>
</tr>
</table>

<p>by <a href="http://willv.net">Will Voelcker</a></p>

<p>Also available as a macro for Openoffice and Libreoffice.  <button id="togglemacro">Show the macro</button>.</p>

<blockquote id='macro'>
Sub PinyinToneMarks<br />
oDoc = thisComponent<br />
aFind = Array(&quot;a~&quot;,&quot;o~&quot;,&quot;n~&quot;, &quot;e^&quot;, &quot;o^&quot;, &quot;i^&quot;, &quot;c,&quot;, &quot;a\/&quot;, &quot;e\/&quot;, &quot;i\/&quot;, &quot;o\/&quot;, &quot;u\/&quot;, &quot;u”\/&quot;, &quot;u&quot;&quot;\/&quot;, &quot;a\&quot;, &quot;e\&quot;, &quot;i\&quot;, &quot;o\&quot;, &quot;u\&quot;, &quot;u”\&quot;, &quot;u&quot;&quot;\&quot;, &quot;a/&quot;, &quot;e/&quot;, &quot;i/&quot;, &quot;o/&quot;, &quot;u/&quot;, &quot;u”/&quot;, &quot;u&quot;&quot;/&quot;, &quot;a_&quot;, &quot;e_&quot;, &quot;i_&quot;, &quot;o_&quot;, &quot;u_&quot;, &quot;ǖ&quot;, &quot;u”&quot;, &quot;u&quot;&quot;&quot;)<br />
aReplace = Array(&quot;ã&quot;,&quot;õ&quot;,&quot;ñ&quot;,&quot;ê&quot;, &quot;ô&quot;, &quot;î&quot; &quot;ç&quot;, &quot;ă&quot;, &quot;ĕ&quot;, &quot;ĭ&quot;, &quot;ŏ&quot;, &quot;ŭ&quot;, &quot;ǚ&quot;, &quot;ǚ&quot;, &quot;à&quot;, &quot;è&quot;, &quot;ì&quot;, &quot;ò&quot;,  &quot;ù&quot;,&quot;ǜ&quot;, &quot;ǜ&quot;, &quot;á&quot;, &quot;é&quot;, &quot;í&quot;, &quot;ó&quot;, &quot;ú&quot;,&quot;ú&quot;, &quot;ú&quot;, &quot;ā&quot;, &quot;ē&quot;, &quot;ī&quot;, &quot;ō&quot;, &quot;ū&quot;, &quot;u&quot;&quot;_&quot;,&quot;ü&quot;, &quot;ü&quot;)<br />
aRayCount = 0<br />
FandR = oDoc.createReplaceDescriptor<br />
FandR.SearchCaseSensitive = true<br />
FandR.SearchRegularExpression = false<br />
While aRayCount &lt;= uBound(aFind)<br />
FandR.setSearchString(aFind(aRayCount))<br />
FandR.setReplaceString(aReplace(aRayCount))<br />
aRayCount = aRayCount + 1<br />
oDoc.ReplaceAll(FandR)<br />
Wend<br />
End Sub
</blockquote>

</body>

</html>
